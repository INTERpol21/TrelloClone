(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(23),r=a.n(s),i=(a(86),a(29)),d=a.n(i),o=a(13),l=a(42),u=a(10),b=a(158),j=a(159),f=a(147),x=a(160),O=a(157),m=function(e){if(!e)return"";var t=new Date(e);if(!t)return"";return t.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]},v=["#a8193d","#4fcc25","#1ebffa","#8da377","#9975bd","#cf61a1","#240959"],p=a(143),h=a(1);function k(e){var t=e.item,a=e.removeLabel;return Object(h.jsxs)("label",{style:{backgroundColor:t.color,color:"#fff"},children:[t.text,a&&Object(h.jsx)(p.a,{onClick:function(){return a(t)}})]})}a(91);var g=function(e){var t=Object(c.useRef)(),a=function(a){var c;t&&!(null===(c=t.current)||void 0===c?void 0:c.contains(a.target))&&e.onClose&&e.onClose()};return Object(c.useEffect)((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}})),Object(h.jsx)("div",{ref:t,className:"dropdown custom-scroll ".concat(e.class?e.class:""),children:e.children})},N=(a(92),a(15)),C=a(144),D=a(145),I=a(146),S=a(155),T=a(156);a(93);var y=function(e){return Object(h.jsx)("div",{className:"modal",onClick:function(){return e.onClose?e.onClose():""},children:Object(h.jsx)("div",{className:"modal-content custom-scroll",onClick:function(e){return e.stopPropagation()},children:e.children})})};a(94);var E=function(e){var t=e.text,a=e.onSubmit,n=e.displayClass,s=e.editClass,r=e.placeholder,i=e.defaultValue,d=e.buttonText,o=Object(c.useState)(i),l=Object(u.a)(o,2),b=l[0],j=l[1],f=Object(c.useState)(!1),x=Object(u.a)(f,2),O=x[0],m=x[1];return Object(h.jsx)("div",{className:"custom-input",children:O?Object(h.jsxs)("form",{className:"custom-input-edit ".concat(s||""),onSubmit:function(e){e.preventDefault(),b&&a&&(j(""),a(b)),m(!1)},children:[Object(h.jsx)("input",{type:"text",value:b||"",placeholder:r||t,autoFocus:!0,onChange:function(e){j(e.target.value)}}),Object(h.jsxs)("div",{className:"custom-input-edit-footer",children:[Object(h.jsx)("button",{type:"submit",children:d||"Add"}),Object(h.jsx)(p.a,{onClick:function(){return m(!1)},className:"closeIcon"})]})]}):Object(h.jsx)("p",{className:"custom-input-display ".concat(n||""),onClick:function(){return m(!0)},children:t})})},w=(a(95),a.p+"static/media/user.6d9f8e11.png"),A=a(63),L=a.n(A),B=a(172);var M=function(e){var t,a,n=e.onClose,s=e.card,r=e.boardId,i=e.updateCard,d=e.user,l=e.inputText,b=Object(c.useState)(""),j=Object(u.a)(b,2),x=j[0],m=j[1],p=Object(c.useState)(Object(N.a)({},s)),g=Object(u.a)(p,2),A=g[0],M=g[1],_=function(e){var t=A.labels.filter((function(t){return t.text!==e.text}));M(Object(N.a)(Object(N.a)({},A),{},{labels:t}))};Object(c.useEffect)((function(){i&&i(r,A.id,A)}),[A]);var J=function(){var e,t,a,c;return(null===(e=A.tasks)||void 0===e?void 0:e.length)?(null===(t=A.tasks)||void 0===t||null===(a=t.filter((function(e){return e.completed})))||void 0===a?void 0:a.length)/(null===(c=A.tasks)||void 0===c?void 0:c.length)*100:0}(),P=function(e){switch(e.key){case"Escape":n()}};return Object(c.useEffect)((function(){return document.addEventListener("keydown",P),function(){return document.removeEventListener("keydown",P)}})),Object(h.jsx)(y,{onClose:n,children:Object(h.jsxs)("div",{className:"cardinfo",children:[Object(h.jsxs)("div",{children:["\u0418\u043c\u044f \u0430\u0432\u0442\u043e\u0440\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 ",d]}),Object(h.jsxs)("div",{children:["\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 ",l]}),Object(h.jsxs)("div",{className:"cardinfo-box",children:[Object(h.jsx)("div",{onClick:n,className:"cardinfo-box-title-circle",children:Object(h.jsx)(C.a,{className:"cardinfo-box-title-svg-circle"})}),Object(h.jsxs)("div",{className:"cardinfo-box-title",children:[Object(h.jsx)(D.a,{}),Object(h.jsx)("p",{children:"Title"})]}),Object(h.jsx)(E,{defaultValue:A.title,text:A.title,placeholder:"Enter Title",onSubmit:function(e){M(Object(N.a)(Object(N.a)({},A),{},{title:e}))}})]}),Object(h.jsxs)("div",{className:"cardinfo-box",children:[Object(h.jsxs)("div",{className:"cardinfo-box-title",children:[Object(h.jsx)(I.a,{}),Object(h.jsx)("p",{children:"Description"})]}),Object(h.jsx)(E,{defaultValue:A.desc,text:A.desc||"Add a Description",placeholder:"Enter description",onSubmit:function(e){M(Object(N.a)(Object(N.a)({},A),{},{desc:e}))}})]}),Object(h.jsxs)("div",{className:"cardinfo-box",children:[Object(h.jsxs)("div",{className:"cardinfo-box-title",children:[Object(h.jsx)(f.a,{}),Object(h.jsx)("p",{children:"Comment"})]}),Object(h.jsx)("div",{className:"cardinfo-box-task-list",children:A.messages.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"cardinfo-box-task-user",children:[Object(h.jsx)("img",{src:w,className:"cardinfo-img",alt:""}),Object(h.jsx)("p",{children:d})]}),Object(h.jsxs)("div",{className:"cardinfo-box-task-trash",children:[Object(h.jsx)("p",{children:e.text}),Object(h.jsx)(B.a,{"aria-label":"delete",onClick:function(){return function(e){var t=Object(o.a)(A.messages).filter((function(t){return t.id!==e}));M(Object(N.a)(Object(N.a)({},A),{},{messages:t}))}(e.id)},children:Object(h.jsx)(L.a,{})})]})]},e.id)}))}),Object(h.jsx)(E,{text:"Add a comment",placeholder:"Enter comment",onSubmit:function(e){var t={id:Date.now()+2*Math.random(),text:e,user:d};M(Object(N.a)(Object(N.a)({},A),{},{messages:[].concat(Object(o.a)(A.messages),[t])}))}})]}),Object(h.jsxs)("div",{className:"cardinfo-box",children:[Object(h.jsxs)("div",{className:"cardinfo-box-title",children:[Object(h.jsx)(S.a,{}),Object(h.jsx)("p",{children:"Date"})]}),Object(h.jsx)("input",{type:"date",defaultValue:A.date,min:(new Date).toISOString().slice(0,10),onChange:function(e){var t;(t=e.target.value)&&M(Object(N.a)(Object(N.a)({},A),{},{date:t}))}})]}),Object(h.jsxs)("div",{className:"cardinfo-box",children:[Object(h.jsxs)("div",{className:"cardinfo-box-title",children:[Object(h.jsx)(T.a,{}),Object(h.jsx)("p",{children:"Labels"})]}),Object(h.jsx)("div",{className:"cardinfo-box-labels",children:null===(t=A.labels)||void 0===t?void 0:t.map((function(e,t){return Object(h.jsx)(k,{item:e,removeLabel:_},t)}))}),Object(h.jsx)("ul",{children:v.map((function(e,t){return Object(h.jsx)("li",{style:{backgroundColor:e},className:x===e?"li-active":"",onClick:function(){return m(e)}},t)}))}),Object(h.jsx)(E,{text:"Add Label",placeholder:"Enter label text",onSubmit:function(e){return t={color:x,text:e},void(A.labels.findIndex((function(e){return e.text===t.text}))>-1||(m(""),M(Object(N.a)(Object(N.a)({},A),{},{labels:[].concat(Object(o.a)(A.labels),[t])}))));var t}})]}),Object(h.jsxs)("div",{className:"cardinfo-box",children:[Object(h.jsxs)("div",{className:"cardinfo-box-title",children:[Object(h.jsx)(O.a,{}),Object(h.jsx)("p",{children:"Tasks"})]}),Object(h.jsx)("div",{className:"cardinfo-box-progress-bar",children:Object(h.jsx)("div",{className:"cardinfo-box-progress",style:{width:"".concat(J,"%"),backgroundColor:100===J?"limegreen":""}})}),Object(h.jsx)("div",{className:"cardinfo-box-task-list",children:null===(a=A.tasks)||void 0===a?void 0:a.map((function(e){return Object(h.jsxs)("div",{className:"cardinfo-box-task-checkbox",children:[Object(h.jsx)("input",{type:"checkbox",defaultChecked:e.completed,onChange:function(t){return function(e,t){var a=Object(o.a)(A.tasks),c=a.findIndex((function(t){return t.id===e}));c<0||(a[c].completed=Boolean(t),M(Object(N.a)(Object(N.a)({},A),{},{tasks:a})))}(e.id,t.target.checked)}}),Object(h.jsx)("p",{className:e.completed?"completed":"",children:e.text}),Object(h.jsx)(B.a,{"aria-label":"delete",onClick:function(){return function(e){var t=Object(o.a)(A.tasks).filter((function(t){return t.id!==e}));M(Object(N.a)(Object(N.a)({},A),{},{tasks:t}))}(e.id)},children:Object(h.jsx)(L.a,{})})]},e.id)}))}),Object(h.jsx)(E,{text:"Add a Task",placeholder:"Enter task",onSubmit:function(e){var t={id:Date.now()+2*Math.random(),completed:!1,text:e};M(Object(N.a)(Object(N.a)({},A),{},{tasks:[].concat(Object(o.a)(A.tasks),[t])}))}})]})]})})};var _=function(e){var t,a=e.card,n=e.boardId,s=e.removeCard,r=e.onDragEnd,i=e.onDragEnter,d=e.updateCard,o=e.user,l=e.inputText,v=a.id,p=a.title,N=a.desc,C=a.date,D=a.tasks,I=a.labels,S=a.messages,T=Object(c.useState)(!1),y=Object(u.a)(T,2),E=y[0],w=y[1],A=Object(c.useState)(!1),L=Object(u.a)(A,2),B=L[0],_=L[1];return Object(h.jsxs)(h.Fragment,{children:[B&&Object(h.jsx)(M,{inputText:l,user:o,onClose:function(){return _(!1)},card:a,boardId:n,updateCard:d}),Object(h.jsxs)("div",{className:"card",draggable:!0,onDragEnd:function(){return r(n,v)},onDragEnter:function(){return i(n,v)},onClick:function(){return _(!0)},children:[Object(h.jsxs)("div",{className:"card-top",children:[Object(h.jsx)("div",{className:"card-top-labels",children:null===I||void 0===I?void 0:I.map((function(e,t){return Object(h.jsx)(k,{item:e},t)}))}),Object(h.jsxs)("div",{className:"card-top-more",onClick:function(e){e.stopPropagation(),w(!0)},children:[Object(h.jsx)(b.a,{}),E&&Object(h.jsx)(g,{class:"board-dropdown",onClose:function(){return w(!1)},children:Object(h.jsx)("p",{onClick:function(){return s(n,v)},children:"Delete Card"})})]})]}),Object(h.jsx)("div",{className:"card-title",children:p}),Object(h.jsxs)("div",{className:"card-item",children:[Object(h.jsx)("p",{title:N,children:Object(h.jsx)(j.a,{})}),S&&S.length>0&&Object(h.jsxs)("p",{children:[Object(h.jsx)(f.a,{}),null===S||void 0===S?void 0:S.filter((function(e){return e})).length]})]}),Object(h.jsxs)("div",{className:"card-footer",children:[C&&Object(h.jsxs)("p",{className:"card-footer-item",children:[Object(h.jsx)(x.a,{className:"card-footer-icon"}),m(C)]}),D&&(null===D||void 0===D?void 0:D.length)>0&&Object(h.jsxs)("p",{className:"card-footer-item",children:[Object(h.jsx)(O.a,{className:"card-footer-icon"}),null===D||void 0===D||null===(t=D.filter((function(e){return e.completed})))||void 0===t?void 0:t.length,"/",null===D||void 0===D?void 0:D.length]})]})]},a.id)]})};a(100);var J=function(e){var t,a,n=e.board,s=e.addCard,r=e.removeBoard,i=e.removeCard,d=e.onDragEnd,o=e.onDragEnter,l=e.updateCard,j=e.user,f=Object(c.useState)(n.title),x=Object(u.a)(f,2),O=x[0],m=x[1],v=Object(c.useState)(!1),p=Object(u.a)(v,2),k=p[0],N=p[1];return Object(h.jsx)("div",{className:"board",children:Object(h.jsxs)("div",{className:"board-inner",children:[Object(h.jsxs)("div",{className:"board-header",children:[Object(h.jsxs)("p",{className:"board-header-title",children:[Object(h.jsx)("input",{className:"custom-input",value:O||"",type:"text",autoFocus:!0,onChange:function(e){m(e.target.value)}}),Object(h.jsx)("span",{children:(null===n||void 0===n||null===(t=n.cards)||void 0===t?void 0:t.length)||0})]}),Object(h.jsxs)("div",{className:"board-header-title-more",onClick:function(){return N(!0)},children:[Object(h.jsx)(b.a,{}),k&&Object(h.jsx)(g,{class:"board-dropdown",onClose:function(){return N(!1)},children:Object(h.jsx)("p",{onClick:function(){return r(null===n||void 0===n?void 0:n.id)},children:"Delete Board"})})]})]}),Object(h.jsxs)("div",{className:"board-cards custom-scroll",children:[null===n||void 0===n||null===(a=n.cards)||void 0===a?void 0:a.map((function(e){return Object(h.jsx)(_,{inputText:n.title,user:j,card:e,boardId:n.id,removeCard:i,onDragEnter:o,onDragEnd:d,updateCard:l},e.id)})),Object(h.jsx)(E,{text:"+ Add Card",placeholder:"Enter Card Title",displayClass:"board-add-card",editClass:"board-add-card-edit",onSubmit:function(e){return s(null===n||void 0===n?void 0:n.id,e)}})]})]},null===n||void 0===n?void 0:n.id)})},P=(a(101),a(51)),F=a(52),V=[{id:1651319512266.7095,title:"ToDo",cards:[{id:1651319552926.0933,title:"Task1",labels:[{color:"#cf61a1",text:"Urgent"}],date:"2022-11-06",tasks:[{id:1651319625559.8025,completed:!0,text:"Task1_subtask1"},{id:1651319629650.8945,completed:!0,text:"Task1_subtask2"},{id:1651319633774.9905,completed:!0,text:"Task1_subtask3"}],desc:"Task1 Detail Description",messages:[{id:1651319543435.593,text:"Task1_subtask1",user:""}]},{id:1651319568365.593,title:"Task2",labels:[{color:"#1ebffa",text:"Frontend"}],date:"",tasks:[],messages:[{id:1651319543435.593,text:"Task1_subtask1",user:""}]}]},{id:1651319523126.113,title:"In Progress",cards:[{id:1651319672685.5078,title:"Task3",labels:[{color:"#9975bd",text:"Database"}],date:"",tasks:[{id:1651319728301.3855,completed:!1,text:"Redux"}],desc:"Task1 Detail Description",messages:[{id:1651319543435.593,text:"Task1_subtask1",user:""}]}]},{id:1651319530017.122,title:"Testing",cards:[{id:1651319677070.0732,title:"Task4",labels:[{color:"#8da377",text:"figma"}],date:"2022-11-06",tasks:[],desc:"Task1 Detail Description",messages:[{id:1651319543435.593,text:"Task1_subtask1",user:""}]}]},{id:1651319535931.4182,title:"Done",cards:[{id:1651319680948.0479,title:"Task5",labels:[{color:"#4fcc25",text:"Payment API"}],date:"2022-11-06",tasks:[{id:1651319833779.3252,completed:!0,text:"Restful API"}],desc:"Task1 Detail Description",messages:[{id:1651319543435.593,text:"Task1_subtask1",user:""}]}]}],R="kanban-boards",K=function(){function e(){Object(P.a)(this,e)}return Object(F.a)(e,[{key:"fetchBoardList",value:function(){var e=Object(l.a)(d.a.mark((function e(){var t,a,c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=V,localStorage.getItem(R)?(n=JSON.parse(null!==(c=localStorage.getItem(R))&&void 0!==c?c:""),a=Object(o.a)(n)):z(a=Object(o.a)(t)),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function U(){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new K,e.abrupt("return",t.fetchBoardList());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){localStorage.setItem(R,JSON.stringify(e))}var G=a(170),H=a(168),Q=a(171),W=a(165),X=a(164);var Y=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1];function r(){return(r=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]);var i=Object(c.useState)({boardId:0,cardId:0}),b=Object(u.a)(i,2),j=b[0],f=b[1],x=function(e,t){var c=a.findIndex((function(t){return t.id===e}));if(!(c<0)){var n=Object(o.a)(a);n[c].cards.push({id:Date.now()+2*Math.random(),title:t,labels:[],date:"",tasks:[],desc:"",messages:[]}),s(n)}},O=function(e,t){var c=a.findIndex((function(t){return t.id===e}));if(!(c<0)){var n=Object(o.a)(a),r=n[c].cards,i=r.findIndex((function(e){return e.id===t}));i<0||(r.splice(i,1),s(n))}},m=function(e,t,c){var n=a.findIndex((function(t){return t.id===e}));if(!(n<0)){var r=Object(o.a)(a),i=r[n].cards.findIndex((function(e){return e.id===t}));i<0||(r[n].cards[i]=c,s(r))}},v=function(e,t){var c,n,r,i,d=a.findIndex((function(t){return t.id===e}));if(!(d<0)){var l=null===(c=a[d])||void 0===c||null===(n=c.cards)||void 0===n?void 0:n.findIndex((function(e){return e.id===t}));if(!(l<0)){var u=a.findIndex((function(e){return e.id===j.boardId}));if(!(u<0)){var b=null===(r=a[u])||void 0===r||null===(i=r.cards)||void 0===i?void 0:i.findIndex((function(e){return e.id===j.cardId}));if(!(b<0)){var x=Object(o.a)(a),O=x[d].cards[l];x[d].cards.splice(l,1),x[u].cards.splice(b,0,O),s(x),f({boardId:0,cardId:0})}}}}},p=function(e,t){j.cardId!==t&&f({boardId:e,cardId:t})};Object(c.useEffect)((function(){z(a)}),[a]);var k=n.a.useState(!0),g=Object(u.a)(k,2),N=g[0],C=g[1],D=function(){return C(!1)},I=n.a.useState("Anton"),S=Object(u.a)(I,2),T=S[0],y=S[1];return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsxs)("div",{className:"app-nav",children:[Object(h.jsx)("h1",{children:"Kanban Board"}),Object(h.jsxs)("div",{className:"app-nav-form",children:[Object(h.jsx)("img",{src:w,className:"app-nav-form-img",alt:""}),Object(h.jsxs)("div",{children:[Object(h.jsx)(H.a,{variant:"contained",onClick:function(){return C(!0)},children:"Login"}),Object(h.jsx)(W.a,{open:N,onClose:D,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(h.jsxs)(G.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(h.jsx)(Q.a,{className:"typography-modal",id:"modal-modal-title",variant:"h6",component:"h2",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(h.jsxs)("div",{className:"form",children:[Object(h.jsx)(X.a,{id:"outlined-name",label:"Name",value:T,onChange:function(e){y(e.target.value)}}),Object(h.jsx)(H.a,{onClick:D,children:"Login"})]})]})})]})]})]}),Object(h.jsx)("div",{className:"app-boards-container",children:Object(h.jsxs)("div",{className:"app-boards",children:[a.map((function(e){return Object(h.jsx)(J,{user:T,board:e,addCard:x,removeBoard:function(){return function(e){var t=a.findIndex((function(t){return t.id===e}));if(!(t<0)){var c=Object(o.a)(a);c.splice(t,1),s(c)}}(e.id)},removeCard:O,onDragEnd:v,onDragEnter:p,updateCard:m},e.id)})),Object(h.jsx)("div",{className:"app-boards-last",children:Object(h.jsx)(E,{displayClass:"app-boards-add-board",editClass:"app-boards-add-board-edit",placeholder:"Enter Board Name",text:"Add Board",buttonText:"Add Board",onSubmit:function(e){var t=Object(o.a)(a);t.push({id:Date.now()+2*Math.random(),title:e,cards:[]}),s(t)}})})]})})]})};var Z=function(){return Object(h.jsx)(Y,{})};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(Z,{})}),document.getElementById("root"))},86:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.95a43eea.chunk.js.map